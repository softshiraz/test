<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ایونت کتاب‌خوانی | سافت شیراز</title>

<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/dist/font-face.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body {
    background:#0e0e0f;
    color:#fff;
    font-family:"Vazirmatn";
    padding:20px;
    text-align:center;
}

/* عنوان */
h2 {
    color:#ffd700;
    font-size:28px;
    margin-bottom:25px;
    border-bottom:3px solid #ffd700;
    display:inline-block;
    padding-bottom:5px;
}

/* کانتینر کتاب‌ها */
#cards-container {
    max-width:900px;
    margin:0 auto;
    display:flex;
    flex-direction:column;
    gap:18px;
}

/* کارت کتاب */
.book-card {
    background:rgba(25,25,25,0.75);
    border:2px solid rgba(255,215,0,0.4);
    border-radius:12px;
    backdrop-filter:blur(10px);
    overflow:hidden;
    transition:all .3s;
}

/* سربرگ کارت */
.book-header {
    padding:16px 14px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    cursor:pointer;
    background:rgba(0,0,0,0.35);
}

.book-title {
    color:#ffd700;
    font-size:20px;
    font-weight:900;
    text-shadow:0 0 10px rgba(255,215,0,0.5);
}

.toggle-icon {
    font-size:16px;
    color:#ffd700;
    transition:transform .3s;
}

/* محتوا */
.book-content {
    padding:15px 18px;
    text-align:right;
    font-size:14px;
    line-height:1.8;
    display:none;
}

/* باز شدن کارت */
.book-card.open .book-content {
    display:block;
}

.book-card.open .toggle-icon {
    transform:rotate(180deg);
}

</style>
</head>

<body>

<h2>ایونت کتاب‌خوانی</h2>

<div id="cards-container">
    <!-- کارت‌ها اینجا لود می‌شوند -->
</div>

<script>
// لود کارت‌ها
async function loadBookCards() {
    const container = document.getElementById("cards-container");

    for (let i = 1; i <= 50; i++) {
        try {
            const response = await fetch(`cards/${i}.html?v=${Date.now()}`, { cache: "no-store" });
            if (!response.ok) continue;

            const html = await response.text();

            const card = document.createElement("div");
            card.innerHTML = html;
            container.appendChild(card);
        } catch(e) {}
    }
}
loadBookCards();

// باز/بسته شدن کارت‌ها
document.addEventListener("click", function(e) {
    const header = e.target.closest(".book-header");
    if (!header) return;

    const card = header.closest(".book-card");
    card.classList.toggle("open");
});
</script>

</body>
</html>
