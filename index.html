<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Ø³Ø§ÙØª Ø´ÛŒØ±Ø§Ø² - Ø§Ú©Ø±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡</title>

<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/dist/font-face.css" rel="stylesheet">

<!-- Three.js (Ø¨Ø±Ø§ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ WebGL) -->
<script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>

<!-- ÙÙˆÙ†Øª Koodak Ù…Ø­Ù„ÛŒ: Ù…Ø³ÛŒØ± Ø±Ø§ Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯ -->
<style>
@font-face {
  font-family: "KoodakCustom";
  src: url("./fonts/font.Koodak.ttf") format("truetype");
  font-display: swap;
}

/* Ù¾Ø§ÛŒÙ‡ */
* { margin:0; padding:0; box-sizing:border-box; }
html,body { height:100%; }
body { 
    font-family: "Vazirmatn", "KoodakCustom", sans-serif; 
    background:#0d0d0f;
    color:#fff;
    overflow-x:hidden;
}

/* Ø¨ÛŒÚ©â€ŒÚ¯Ø±Ø§ÙˆÙ†Ø¯ WebGL Ø±ÙˆÛŒ Ú©Ù„ ØµÙØ­Ù‡ (z-index Ù¾Ø§ÛŒÛŒÙ†) */
#three-bg { position:fixed; inset:0; z-index:0; pointer-events:none; }

/* Ù„Ø§ÛŒÙ‡Ù” Ø¨ÙˆÚ©Ù‡ Ø¨Ø§ canvas */
#bokeh-canvas { position:fixed; inset:0; z-index:1; pointer-events:none; }

/* Ø°Ø±Ø§Øª Ø·Ù„Ø§ÛŒÛŒ Ú©Ù„Ø§Ø³ÛŒÚ© */
#gold-particles { position:fixed; inset:0; z-index:2; pointer-events:none; }

/* Ù‡Ø¯Ø± */
header {
    position:sticky; top:0; z-index:30;
    background: rgba(0,0,0,0.45);
    backdrop-filter: blur(8px);
    border-bottom:1px solid rgba(255,215,0,0.06);
    padding:12px 20px; display:flex; justify-content:flex-end; align-items:center;
    text-shadow:0 0 10px rgba(255,215,0,0.12);
}
.logo-fa {
    font-weight:700;
    font-size:26px;
    background:linear-gradient(45deg,#ffd700,#ffb300);
    -webkit-background-clip:text;
    color:transparent;
}

/* Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ */
main { position:relative; z-index:5; padding:30px 20px 80px; }
h2 {
    color:#ffd700; font-size:28px; text-align:center;
    margin-bottom:28px; border-bottom:3px solid rgba(255,215,0,0.12);
    display:inline-block; padding-bottom:6px;
    text-shadow:0 0 6px rgba(255,215,0,0.15);
    font-family:"KoodakCustom", "Vazirmatn", sans-serif;
}

/* grid Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ */
.movies-grid {
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:22px;
    justify-items:center;
    max-width:1200px;
    margin:0 auto;
}

/* Ú©Ø§Ø±Øª ÙÛŒÙ„Ù… */
.movie-card { position:relative; perspective:1200px; width:100%; max-width:280px; }
.card-inner {
    position: relative;
    transition: transform 0.6s cubic-bezier(.2,.9,.3,1), box-shadow .25s;
    transform-style: preserve-3d;
    width:100%; height:420px;
    border-radius:16px;
    cursor:pointer;
    box-shadow: 0 8px 30px rgba(0,0,0,0.6);
}
/* ÙˆÙ‚ØªÛŒ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ú©Ù„ Ú©Ø§Ø±Øª: ÙÙ„ÛŒÙ¾ */
.card-inner.flipped { transform: rotateY(180deg); }

/* Ø¬Ù„Ùˆ Ùˆ Ù¾Ø´Øª */
.card-front, .card-back {
    position:absolute; inset:0; border-radius:14px; overflow:hidden;
    backface-visibility:hidden;
    border:1px solid rgba(255,215,0,0.06);
    background: linear-gradient(180deg, rgba(30,30,30,0.6), rgba(8,8,8,0.6));
    backdrop-filter: blur(6px);
}

/* Ù†ÙˆØ± Ùˆ Glow Ù…Ù„Ø§ÛŒÙ… Ø¯ÙˆØ± Ø§Ù„Ù…Ø§Ù† Ø·Ù„Ø§ÛŒÛŒ */
.glow {
    box-shadow: 0 6px 30px rgba(255,200,0,0.06), 0 0 18px rgba(255,215,0,0.06) inset;
}

/* Ø¬Ù„Ùˆ */
.img-bar { height:65%; width:100%; overflow:hidden; }
.img-bar img { width:100%; height:100%; object-fit:cover; display:block; transform-origin:center; transition: transform .35s; }

/* Ù†Ø¦ÙˆÙ† Ø·Ù„Ø§ÛŒÛŒ Ù¾Ø´Øª Ú©Ø§Ø±Øª */
.movie-card::before {
    content:''; position:absolute; z-index: -1; top:-6px; left:-6px;
    width:300px; height:440px; border-radius:20px;
    background: radial-gradient(circle, rgba(255,215,0,0.10), transparent 50% );
    filter: blur(22px);
}

/* Ù†ÙˆØ§Ø± ØªØ§Ø±ÛŒØ® / Ø¹Ù†ÙˆØ§Ù† / Ø±Ø²Ø±Ùˆ */
.date-bar, .title-bar, .reserve-bar {
    height:42px; line-height:42px; padding:0 12px; text-align:center;
    border-top:1px solid rgba(255,255,255,0.03); font-size:14px;
}
.date-bar { color:#ffd700; font-weight:600; }
.title-bar { color:#fff; font-size:15px; direction:rtl; }
.reserve-bar { 
    color:#111; background:#ffd700; font-weight:700; cursor:pointer; border-radius:8px;
    display:inline-block; padding:8px 18px; margin:10px auto; transition: transform .25s, box-shadow .35s;
    box-shadow:0 6px 18px rgba(255,193,0,0.06);
}
/* Ù¾Ø§Ù„Ø³ Ù†Ø±Ù… */
.reserve-bar.pulse {
    animation: pulseReserve 2.5s infinite;
}
@keyframes pulseReserve {
    0% { transform: scale(1); box-shadow:0 6px 18px rgba(255,193,0,0.06); }
    50% { transform: scale(1.02); box-shadow:0 10px 28px rgba(255,193,0,0.09); }
    100% { transform: scale(1); box-shadow:0 6px 18px rgba(255,193,0,0.06); }
}

/* Ù¾Ø´Øª Ú©Ø§Ø±Øª */
.card-back { transform: rotateY(180deg); padding:18px; text-align:right; }

/* Ø§ÙÚ©Øª Ù‡ÙˆÙ„ÙˆÚ¯Ø±Ø§ÙÛŒÚ© Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
.holo-btn {
    display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.04);
    backdrop-filter: blur(6px);
    position:relative; overflow:hidden; color:#ffd700; font-weight:600; cursor:pointer;
}
.holo-btn::after {
    content:''; position:absolute; inset:0; background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);
    mix-blend-mode: screen; opacity:0.6; transform: translateX(-50%); transition: transform .6s;
}
.holo-btn:hover::after { transform: translateX(20%); }

/* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Øª: fade + slide up */
.card-appear {
    opacity:0; transform: translateY(14px) scale(0.995); transition: opacity .6s ease, transform .6s cubic-bezier(.2,.9,.3,1);
}
.card-appear.show {
    opacity:1; transform: translateY(0) scale(1);
}

/* border Ø·Ù„Ø§ÛŒÛŒ Ù…Ù„Ø§ÛŒÙ… */
.card-front, .card-back { border: 1px solid rgba(255,215,0,0.06); }

/* Ù‡ÙˆÙ„ÙˆÚ¯Ø±Ø§ÙÛŒÚ© Ù†ÙˆØ±Ù¾Ø±Ø¯Ø§Ø²ÛŒ Ù†Ø´Ø§Ù†Ú¯Ø± Ù…Ø§ÙˆØ³: Ø´ÛŒÙØª Ù†ÙˆØ± Ø±ÙˆÛŒ Ú©Ø§Ø±Øª */
.movie-card:hover .img-bar img { transform: scale(1.03) rotate(0.4deg); filter: saturate(1.02) contrast(1.02); }

/* Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§ Ø¨Ø²Ø±Ú¯â€ŒØªØ± Ùˆ Ø¬Ø°Ø§Ø¨ */
#about-popup {
    display:none; position:fixed; z-index:60; right:50%; top:50%; transform:translate(50%,-50%);
    width:360px; max-width:92%; background: rgba(12,12,12,0.92); border-radius:14px;
    padding:18px; border:2px solid rgba(255,215,0,0.15); box-shadow:0 10px 40px rgba(0,0,0,0.6);
    text-align:right; color:#fff; font-size:14px;
}
#about-popup.show { display:block; animation: popupIn .28s ease both; }
@keyframes popupIn { from { transform:translate(50%,-52%) scale(.98); opacity:0 } to { transform:translate(50%,-50%) scale(1); opacity:1 } }
#about-popup img { width:100%; height:140px; object-fit:cover; border-radius:8px; margin-bottom:12px; }

/* ÙÙˆØªØ± */
footer { position:relative; z-index:5; margin-top:40px; padding:20px; text-align:center; background:transparent; }
.footer-title { color:#ffd700; margin-bottom:12px; font-size:16px; }
.social-row { display:flex; justify-content:center; gap:14px; align-items:center; }
.social-icon {
    width:56px; height:56px; border-radius:50%; display:flex; align-items:center; justify-content:center;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,215,0,0.06);
    cursor:pointer; transition: transform .18s, box-shadow .2s;
    color:#ffd700; font-weight:800; font-size:20px;
}
.social-icon:hover { transform: translateY(-6px); box-shadow:0 10px 30px rgba(255,215,0,0.06); color:#111; background:#ffd700; }

/* ØªØºÛŒÛŒØ±Ø§Øª Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ */
@media (max-width:1200px) { .movies-grid{grid-template-columns:repeat(3,1fr);} }
@media (max-width:880px)  { .movies-grid{grid-template-columns:repeat(2,1fr);} }
@media (max-width:480px)  { .movies-grid{grid-template-columns:1fr;} }
</style>

</head>
<body>

<!-- WebGL background container -->
<canvas id="three-bg"></canvas>
<canvas id="bokeh-canvas"></canvas>

<!-- Ø°Ø±Ø§Øª Ø·Ù„Ø§ÛŒÛŒ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ layer -->
<div id="gold-particles"></div>

<!-- Ù„ÙˆØ¯Ø± Ø³Ø§Ø¯Ù‡ -->
<div id="loading-overlay" style="position:fixed;inset:0;z-index:80;background:#0a0a0a;display:flex;align-items:center;justify-content:center;">
  <div style="width:60px;height:60px;border-radius:50%;display:grid;place-items:center;">
    <div style="width:14px;height:14px;border-radius:50%;background:linear-gradient(45deg,#ffd700,#ffb300);box-shadow:0 6px 26px rgba(255,200,0,0.12);animation:spin 1.3s linear infinite"></div>
  </div>
</div>

<header>
  <div class="logo-fa">Soft Shiraz</div>
</header>

<main>
  <section style="text-align:center;">
      <h2>Ø§Ú©Ø±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡</h2>
      <div class="movies-grid" id="cards-container" aria-live="polite"></div>
  </section>
</main>

<footer>
  <div class="footer-title">Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø³Ø§ÙØª Ø´ÛŒØ±Ø§Ø²</div>
  <div class="social-row">
      <!-- Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ù…Ø²Ù‡ Ø´Ø¯Ù‡ â€” Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¢ÛŒâ€ŒØ¯ÛŒ ÛŒØ§ Ù„ÛŒÙ†Ú© Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯ -->
      <a class="social-icon" href="https://t.me/softshiraz" target="_blank" title="ØªÙ„Ú¯Ø±Ø§Ù…">âœˆï¸</a>
      <a class="social-icon" href="https://instagram.com/softshiraz" target="_blank" title="Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…">ğŸ“¸</a>
      <button class="social-icon" id="about-btn" title="Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§">â„¹ï¸</button>
  </div>

  <div id="about-popup" role="dialog" aria-modal="true" aria-hidden="true">
    <img src="./assets/about-cover.jpg" alt="Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø³Ø§ÙØª Ø´ÛŒØ±Ø§Ø² (ØªØµÙˆÛŒØ±)" onerror="this.style.display='none'">
    <h3 style="color:#ffd700;margin-bottom:6px">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø³Ø§ÙØª Ø´ÛŒØ±Ø§Ø²</h3>
    <p style="line-height:1.5;margin-bottom:8px">Ø³Ø§ÙØª Ø´ÛŒØ±Ø§Ø² Ù…Ø±Ø¬Ø¹ Ù…Ø¹Ø±ÙÛŒ ÙÛŒÙ„Ù…â€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ØŒ Ù†Ù‚Ø¯Ù‡Ø§ Ùˆ Ø§Ø®Ø¨Ø§Ø± Ø³ÛŒÙ†Ù…Ø§ Ø§Ø³Øª. Ù‡Ø¯Ù Ù…Ø§ Ø¢ÙˆØ±Ø¯Ù† ØªØ¬Ø±Ø¨Ù‡Ù” Ù„ÙˆÚ©Ø³ Ùˆ Ø³ÛŒÙ†Ù…Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙØ§Ø±Ø³ÛŒâ€ŒØ²Ø¨Ø§Ù† Ø§Ø³Øª.</p>
    <p style="font-size:13px; opacity:0.9">ØªØ§Ø³ÛŒØ³: Û±Û³Û¹Û¹ â€” ØªÛŒÙ…ÛŒ Ø§Ø² Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯Ø§Ù† Ø³ÛŒÙ†Ù…Ø§ Ùˆ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† ÙˆØ¨.</p>
    <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
      <a class="holo-btn" href="https://t.me/softshiraz" target="_blank">Ø¹Ø¶ÙˆÛŒØª ØªÙ„Ú¯Ø±Ø§Ù…</a>
      <a class="holo-btn" href="https://instagram.com/softshiraz" target="_blank">Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…</a>
      <button id="about-close" class="holo-btn" style="color:#fff;background:transparent;border:1px solid rgba(255,255,255,0.04)">Ø®Ø±ÙˆØ¬</button>
    </div>
  </div>
</footer>

<script>
/* ---------------------------
   Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÙˆÙ†Ù‡Ù” ÙÛŒÙ„Ù…â€ŒÙ‡Ø§ (Ù‚Ø§Ø¨Ù„ ÙˆÛŒØ±Ø§ÛŒØ´)
   id Ù‡Ø§ Ø§Ø² 1 ØªØ§ 12
----------------------------*/
const MOVIES = [
  { id:1, title:"Ø³ØªØ§Ø±Ù‡Ù” Ø¯ÙˆØ±", date:"Û±Û´Û°Û´/Û°Û¹/Û²Û°", poster:"./assets/posters/1.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:8.3, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± A","Ø¨Ø§Ø²ÛŒÚ¯Ø± B"], synopsis:"Ø®Ù„Ø§ØµÙ‡ Ø¯Ø§Ø³ØªØ§Ù† Ù†Ù…ÙˆÙ†Ù‡Ù” ÙÛŒÙ„Ù… Ø³ØªØ§Ø±Ù‡Ù” Ø¯ÙˆØ±..." },
  { id:2, title:"Ø³Ø§ÛŒÙ‡Ù” Ø·Ù„Ø§ÛŒÛŒ", date:"Û±Û´Û°Û´/Û±Û°/Û°Ûµ", poster:"./assets/posters/2.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:7.8, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± C","Ø¨Ø§Ø²ÛŒÚ¯Ø± D"], synopsis:"Ø®Ù„Ø§ØµÙ‡ Ø¯Ø§Ø³ØªØ§Ù† Ù†Ù…ÙˆÙ†Ù‡Ù” ÙÛŒÙ„Ù… Ø³Ø§ÛŒÙ‡Ù” Ø·Ù„Ø§ÛŒÛŒ..." },
  { id:3, title:"Ø´Ù‡Ø± Ø¨ÛŒâ€ŒØµØ¯Ø§", date:"Û±Û´Û°Û´/Û±Û±/Û±Û±", poster:"./assets/posters/3.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:7.1, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± E","Ø¨Ø§Ø²ÛŒÚ¯Ø± F"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† Ø´Ù‡Ø± Ø¨ÛŒâ€ŒØµØ¯Ø§..." },
  { id:4, title:"ÛŒØ§Ø¯Ú¯Ø§Ø±Ø§Ù†", date:"Û±Û´Û°Û´/Û±Û²/Û°Û²", poster:"./assets/posters/4.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:8.0, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± G","Ø¨Ø§Ø²ÛŒÚ¯Ø± H"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† ÛŒØ§Ø¯Ú¯Ø§Ø±Ø§Ù†..." },
  { id:5, title:"Ø·Ù„ÙˆØ¹ Ù†Ù‡Ø§ÛŒÛŒ", date:"Û±Û´Û°Ûµ/Û°Û±/Û±Ûµ", poster:"./assets/posters/5.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:8.6, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± I","Ø¨Ø§Ø²ÛŒÚ¯Ø± J"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† Ø·Ù„ÙˆØ¹ Ù†Ù‡Ø§ÛŒÛŒ..." },
  { id:6, title:"Ù†Ù‚Ø·Ù‡Ù” Ø¢ØºØ§Ø²", date:"Û±Û´Û°Ûµ/Û°Û²/Û²Û°", poster:"./assets/posters/6.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:7.4, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± K","Ø¨Ø§Ø²ÛŒÚ¯Ø± L"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† Ù†Ù‚Ø·Ù‡Ù” Ø¢ØºØ§Ø²..." },
  { id:7, title:"Ù…Ø³ÛŒØ± Ø³Ø±Ø®", date:"Û±Û´Û°Ûµ/Û°Û³/Û°Û±", poster:"./assets/posters/7.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:6.9, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± M","Ø¨Ø§Ø²ÛŒÚ¯Ø± N"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† Ù…Ø³ÛŒØ± Ø³Ø±Ø®..." },
  { id:8, title:"Ø¢ÛŒÙ†Ù‡Ù” Ø®Ø§Ù„ÛŒ", date:"Û±Û´Û°Ûµ/Û°Û´/Û±Û°", poster:"./assets/posters/8.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:8.1, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± O","Ø¨Ø§Ø²ÛŒÚ¯Ø± P"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† Ø¢ÛŒÙ†Ù‡Ù” Ø®Ø§Ù„ÛŒ..." },
  { id:9, title:"Ø´Ø¨â€ŒÙ‡Ø§ÛŒ Ø·Ù„Ø§ÛŒÛŒ", date:"Û±Û´Û°Ûµ/Û°Ûµ/Û°Ûµ", poster:"./assets/posters/9.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:7.9, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± Q","Ø¨Ø§Ø²ÛŒÚ¯Ø± R"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† Ø´Ø¨â€ŒÙ‡Ø§ÛŒ Ø·Ù„Ø§ÛŒÛŒ..." },
  { id:10, title:"Ø¨Ø§Ø¯Ù ÙØ±Ø§Ù…ÙˆØ´ÛŒ", date:"Û±Û´Û°Ûµ/Û°Û¶/Û±Û¶", poster:"./assets/posters/10.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:7.0, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± S","Ø¨Ø§Ø²ÛŒÚ¯Ø± T"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ø§Ø¯Ù ÙØ±Ø§Ù…ÙˆØ´ÛŒ..." },
  { id:11, title:"Ø®Ø±ÙˆØ¬ Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ", date:"Û±Û´Û°Ûµ/Û°Û·/Û°Û¸", poster:"./assets/posters/11.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:6.6, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± U","Ø¨Ø§Ø²ÛŒÚ¯Ø± V"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† Ø®Ø±ÙˆØ¬ Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ..." },
  { id:12, title:"Ù¾Ø±ÙˆÚ˜Ù‡: Ø§Ù…ÛŒØ¯", date:"Û±Û´Û°Ûµ/Û°Û¸/Û²Û·", poster:"./assets/posters/12.jpg", trailer:"https://www.youtube.com/embed/dQw4w9WgXcQ", rating:8.9, cast:["Ø¨Ø§Ø²ÛŒÚ¯Ø± W","Ø¨Ø§Ø²ÛŒÚ¯Ø± X"], synopsis:"Ø®Ù„Ø§ØµÙ‡Ù” Ø¯Ø§Ø³ØªØ§Ù† Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ù…ÛŒØ¯..." },
];

/* ---------------------------
   Ø³Ø§Ø®Øª Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ (Ø¨Ø§ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† fade+slide)
----------------------------*/
const container = document.getElementById('cards-container');

function createCard(movie) {
  const wrap = document.createElement('div');
  wrap.className = 'movie-card card-appear';

  const inner = document.createElement('div');
  inner.className = 'card-inner';

  inner.innerHTML = `
    <div class="card-front glow">
      <div class="img-bar"><img src="${movie.poster}" alt="${movie.title}" onerror="this.src='./assets/fallback-poster.jpg'"></div>
      <div class="date-bar">${movie.date}</div>
      <div class="title-bar">${movie.title}</div>
      <div style="display:flex;justify-content:center;padding:10px 0;">
        <div class="reserve-bar pulse" role="button" tabindex="0">Ø±Ø²Ø±Ùˆ Ø¨Ù„ÛŒØ·</div>
      </div>
    </div>
    <div class="card-back">
      <h3 style="color:#ffd700;margin-bottom:6px">${movie.title}</h3>
      <p><strong>Ø§Ù…ØªÛŒØ§Ø²:</strong> ${movie.rating} / 10</p>
      <p style="margin-top:8px;"><strong>Ø¨Ø§Ø²ÛŒÚ¯Ø±Ø§Ù†:</strong> ${movie.cast.join('ØŒ ')}</p>
      <p style="margin-top:8px;opacity:0.95">${movie.synopsis}</p>
      <div style="margin-top:auto;display:flex;gap:8px;justify-content:flex-start;">
        <button class="holo-btn" data-trailer="${movie.trailer}">â–¶ ØªØ±ÛŒÙ„Ø±</button>
        <a class="holo-btn" href="movie.html?id=${movie.id}">ØµÙØ­Ù‡ ÙÛŒÙ„Ù…</a>
      </div>
    </div>
  `;

  // Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ú©Ù„ inner => ÙÙ„ÛŒÙ¾ ÛŒØ§ => ØµÙØ­Ù‡ Ø§Ø®ØªØµØ§ØµÛŒ Ø§Ú¯Ø± Ctrl ÛŒØ§ Meta Ù†Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡
  inner.addEventListener('click', (e) => {
    // Ø§Ú¯Ø± Ù‡Ø¯Ù ÛŒÚ©ÛŒ Ø§Ø² Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ø§Ø³ØªØŒ Ù†Ú¯Ø°Ø§Ø± ÙÙ„ÛŒÙ¾ Ø´ÙˆØ¯
    if (e.target.closest('.reserve-bar') || e.target.closest('.holo-btn') || e.target.closest('a')) return;
    inner.classList.toggle('flipped');
  });

  // Prevent reserve button from triggering flip and from rotating
  const reserve = inner.querySelector('.reserve-bar');
  if (reserve) {
    reserve.addEventListener('click', (ev) => {
      ev.stopPropagation(); // Ù…Ù‡Ù…: Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² ÙÙ„ÛŒÙ¾
      // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ú†Ø±Ø®Ø´ Ù†Ø§Ø®ÙˆØ§Ø³ØªÙ‡ â€” Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø­Ø°Ù Ù‡Ø± transform Ø§Ø¶Ø§ÙÛŒ
      reserve.classList.add('active-reserve');
      // Ù†Ù…ÙˆÙ†Ù‡ Ø¹Ù…Ù„ÛŒ: Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø±Ø§ÛŒ Ø±Ø²Ø±Ùˆ
      window.open('https://t.me/softshiraz', '_blank');
    });
    // Ø¯Ø³ØªØ±Ø³ÛŒ Ú©ÛŒØ¨ÙˆØ±Ø¯
    reserve.addEventListener('keydown', (ev) => { if (ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); reserve.click(); }});
  }

  // Ø¯Ú©Ù…Ù‡Ù” ØªØ±ÛŒÙ„Ø±
  inner.querySelectorAll('.holo-btn[data-trailer]').forEach(btn=>{
    btn.addEventListener('click', (ev) => {
      ev.stopPropagation();
      const url = btn.getAttribute('data-trailer');
      // Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† ÛŒÚ© Ù…ÙˆØ¯Ø§Ù„ Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ±ÛŒÙ„Ø±
      openTrailerModal(url);
    });
  });

  wrap.appendChild(inner);
  return wrap;
}

function mountCards() {
  MOVIES.forEach((m, idx) => {
    const card = createCard(m);
    container.appendChild(card);
    // ÙˆØ±ÙˆØ¯ Ø¨Ù‡ ØµÙˆØ±Øª Ù¾Ù„Ù‡â€ŒØ§ÛŒ
    setTimeout(()=> card.classList.add('show'), idx*90);
  });
}
mountCards();

/* ---------------------------
   Ù…ÙˆØ¯Ø§Ù„ ØªØ±ÛŒÙ„Ø± Ø³Ø§Ø¯Ù‡
----------------------------*/
const trailerModalHTML = `
  <div id="trailer-modal" style="position:fixed;inset:0;z-index:100;display:grid;place-items:center;padding:20px;">
    <div style="width:min(900px,95%);background:#0b0b0b;border-radius:12px;padding:8px;border:2px solid rgba(255,215,0,0.10);">
      <div style="display:flex;justify-content:flex-end;">
        <button id="close-trailer" class="holo-btn" style="margin:6px">Ø¨Ø³ØªÙ†</button>
      </div>
      <div style="aspect-ratio:16/9;background:#000;border-radius:8px;overflow:hidden">
        <iframe id="trailer-frame" src="" style="width:100%;height:100%;border:0" allowfullscreen></iframe>
      </div>
    </div>
  </div>
`;
function openTrailerModal(url) {
  if (document.getElementById('trailer-modal')) return;
  const div = document.createElement('div'); div.innerHTML = trailerModalHTML;
  document.body.appendChild(div.firstElementChild);
  document.getElementById('trailer-frame').src = url;
  document.getElementById('close-trailer').addEventListener('click', () => {
    document.getElementById('trailer-frame').src = '';
    const m = document.getElementById('trailer-modal');
    if (m) m.remove();
  });
}

/* ---------------------------
   Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§ (Ø¨Ø§Ø² Ùˆ Ø¨Ø³Øª)
----------------------------*/
const aboutBtn = document.getElementById('about-btn');
const aboutPopup = document.getElementById('about-popup');
const aboutClose = document.getElementById('about-close');
aboutBtn.addEventListener('click', (e)=> {
  e.stopPropagation();
  aboutPopup.classList.toggle('show');
});
aboutClose.addEventListener('click', ()=> aboutPopup.classList.remove('show'));
document.addEventListener('click', (e)=> {
  if (!aboutPopup.contains(e.target) && e.target !== aboutBtn) aboutPopup.classList.remove('show');
});

/* ---------------------------
   Ø°Ø±Ø§Øª Ø·Ù„Ø§ÛŒÛŒ Ø³Ø§Ø¯Ù‡ (DOM)
----------------------------*/
const particleContainer = document.getElementById("gold-particles");
for (let i = 0; i < 60; i++) {
    const p = document.createElement("div");
    p.style.position='absolute';
    const size = Math.random()*4 + 2;
    p.style.width = size + "px";
    p.style.height = size + "px";
    p.style.left = Math.random()*100 + "%";
    p.style.top = Math.random()*100 + "%";
    p.style.borderRadius = "50%";
    p.style.background = "rgba(255,215,0,"+(Math.random()*0.6+0.25)+")";
    p.style.boxShadow = "0 0 8px rgba(255,215,0,0.9)";
    p.style.opacity = Math.random()*0.9;
    p.style.filter = "blur(" + (Math.random()*2) + "px)";
    p.style.transform = `translateY(${Math.random()*20 - 10}px)`;
    particleContainer.appendChild(p);
}

/* ---------------------------
   Three.js background: Ø°Ø±Ø§Øª ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§ Ø¨Ù‡ Ù…Ø§ÙˆØ³ØŒ Ù†ÙˆØ± Ø·Ù„Ø§ÛŒÛŒØŒ Ø¯ÙˆØ¯ Ø³Ø§Ø¯Ù‡
----------------------------*/
(function initThreeBG(){
  const canvas = document.getElementById('three-bg');
  const renderer = new THREE.WebGLRenderer({ canvas, antialias:true, alpha:true });
  renderer.setPixelRatio(window.devicePixelRatio);
  renderer.setSize(window.innerWidth, window.innerHeight);

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(50, window.innerWidth/window.innerHeight, 0.1, 2000);
  camera.position.z = 50;

  // Ù†ÙˆØ± Ø·Ù„Ø§ÛŒÛŒ
  const light = new THREE.PointLight(0xffd27a, 1.0, 250);
  light.position.set(20, 20, 30);
  scene.add(light);

  // Ø°Ø±Ø§Øª Ø³Ø§Ø¯Ù‡ (Points)
  const particlesCount = 600;
  const positions = new Float32Array(particlesCount * 3);
  for (let i=0;i<particlesCount;i++){
    positions[i*3+0] = (Math.random()-0.5)*160;
    positions[i*3+1] = (Math.random()-0.5)*90;
    positions[i*3+2] = (Math.random()-0.5)*60;
  }
  const geom = new THREE.BufferGeometry();
  geom.setAttribute('position', new THREE.BufferAttribute(positions,3));
  const mat = new THREE.PointsMaterial({ size:0.8, color:0xffd27a, transparent:true, opacity:0.18 });
  const pts = new THREE.Points(geom, mat);
  scene.add(pts);

  // Ù…ÙˆØ¬ Ø¢Ø±Ø§Ù… (Ø§Ù†ÛŒÙ…ÛŒØ´Ù†)
  let t=0;
  function animate(){
    t += 0.002;
    const pos = geom.attributes.position.array;
    for (let i=0;i<particlesCount;i++){
      const j = i*3;
      pos[j+1] += Math.sin(t + i)*0.0008; // Ø­Ø±Ú©Øª Ø¢Ø±Ø§Ù…
      // Ø­Ù„Ù‚Ù‡ Ù…Ø¬Ø¯Ø¯ Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø®Ø±ÙˆØ¬
      if (pos[j+1] > 50) pos[j+1] = -50;
    }
    geom.attributes.position.needsUpdate = true;

    // Ù†ÙˆØ± Ù…Ø·Ø§Ø¨Ù‚ Ù…Ø§ÙˆØ³ (Ù…ÙˆÙ‚Ø¹ÛŒØª Ù†ÙˆØ± Ù†ÙˆØ±Ø§Ù†ÛŒ)
    renderer.render(scene, camera);
    requestAnimationFrame(animate);
  }
  animate();

  // ÙˆØ§Ú©Ù†Ø´ Ø¨Ù‡ ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡
  window.addEventListener('resize', ()=>{
    renderer.setSize(window.innerWidth, window.innerHeight);
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
  });

  // Ù…Ø§ÙˆØ³: Ø´ÛŒÙØª Ø¬Ø²Ø¦ÛŒ Ù†Ù…Ø§ÛŒØ´
  const mouse = { x:0, y:0 };
  window.addEventListener('mousemove', (ev)=>{
    const nx = (ev.clientX / window.innerWidth) * 2 - 1;
    const ny = - (ev.clientY / window.innerHeight) * 2 + 1;
    // Ø­Ø±Ú©Øª Ù†ÙˆØ± Ùˆ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø§Ù†Ø¯Ú©
    light.position.x = nx*40;
    light.position.y = ny*30 + 10;
    camera.position.x += (nx*6 - camera.position.x) * 0.07;
    camera.position.y += (ny*6 - camera.position.y) * 0.07;
  });
})();

/* ---------------------------
   Bokeh canvas Ø³Ø§Ø¯Ù‡ (Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù…Ø­Ùˆ Ù†ÙˆØ±)
----------------------------*/
(function bokeh(){
  const cvs = document.getElementById('bokeh-canvas');
  const ctx = cvs.getContext('2d');
  function resize(){ cvs.width = innerWidth; cvs.height = innerHeight; draw(); }
  window.addEventListener('resize', resize);
  function draw(){
    ctx.clearRect(0,0,cvs.width,cvs.height);
    // Ú†Ù†Ø¯ Ù†ÙˆØ± Ø¨Ø²Ø±Ú¯ Ù…Ø­Ùˆ
    const centers = [
      {x:cvs.width*0.12,y:cvs.height*0.15,r:140,a:0.06},
      {x:cvs.width*0.85,y:cvs.height*0.22,r:220,a:0.045},
      {x:cvs.width*0.6,y:cvs.height*0.78,r:160,a:0.05},
    ];
    centers.forEach(c=>{
      const g = ctx.createRadialGradient(c.x,c.y,0,c.x,c.y,c.r);
      g.addColorStop(0, `rgba(255,200,80,${c.a})`);
      g.addColorStop(0.5, `rgba(255,200,80,${c.a*0.18})`);
      g.addColorStop(1, `rgba(255,200,80,0)`);
      ctx.fillStyle = g;
      ctx.fillRect(c.x - c.r, c.y - c.r, c.r*2, c.r*2);
    });
  }
  resize();
})();

/* ---------------------------
   Ù„ÙˆØ¯Ø±: Ø¨Ø±Ø¯Ø§Ø´ØªÙ† overlay
----------------------------*/
window.addEventListener('load', ()=> {
  const overlay = document.getElementById('loading-overlay');
  setTimeout(()=> { overlay.style.transition='opacity .6s'; overlay.style.opacity='0'; setTimeout(()=>overlay.remove(),700); }, 700);
});

/* Ú©Ù„ÛŒØ¯ Ø§Ø³Ù¾ÛŒÙ†Ø¯Ù„ (spin) Ù„ÙˆØ¯Ø± */
const style = document.createElement('style');
style.textContent = '@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}';
document.head.appendChild(style);

/* ---------------------------
   Ø«Ø¨Øª Service Worker Ø¨Ø±Ø§ÛŒ PWA
----------------------------*/
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js').catch(()=>{/* sw fail silently */});
}
// manifest link Ø¯ÛŒÙ†Ø§Ù…ÛŒÚ©
const link = document.createElement('link');
link.rel='manifest'; link.href='./manifest.json';
document.head.appendChild(link);
</script>

</body>
</html>
