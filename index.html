<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>سافت شیراز</title>

<!-- ===================== CSS قبلی شما (دست نخورده) ===================== -->
<style>
/* ---------- اسلایدر ---------- */
.slider-wrapper{
    max-width:1200px;
    margin:10px auto 45px;
    padding:0 20px
}
.slider-box{
    overflow:hidden;
    border-radius:18px;
    border:2px solid var(--color-primary);
    background:var(--card-bg);
    box-shadow:0 0 25px var(--card-shadow-color)
}
.slider-track{
    display:flex;
    transition:transform .7s cubic-bezier(.3,1.4,.3,1)
}
.slider-item{
    min-width:100%;
    display:flex;
    align-items:center;
    gap:20px;
    padding:20px;
    cursor:pointer
}
.slider-item img{
    width:90px;
    height:130px;
    object-fit:cover;
    border-radius:14px;
    border:2px solid var(--color-primary)
}
.slider-text h3{
    color:var(--color-primary);
    font-size:22px;
    font-weight:900
}
.slider-text span{
    font-size:15px;
    opacity:.9
}
.slider-dots{
    display:flex;
    justify-content:center;
    gap:8px;
    margin-top:12px
}
.slider-dots span{
    width:10px;
    height:10px;
    border-radius:50%;
    background:var(--link-border)
}
.slider-dots span.active{
    background:var(--color-primary)
}
</style>
</head>

<body>

<main>

<!-- ===================== عنوان ===================== -->
<div class="section-title-wrapper">
  <div class="section-title-box">
    <h1>اکران‌های آینده</h1>
  </div>
</div>

<!-- ===================== اسلایدر ===================== -->
<div class="slider-wrapper">
  <div class="slider-box">
    <div class="slider-track" id="sliderTrack">

      <div class="slider-item" data-target="card-1">
        <img src="cards/1.jpg">
        <div class="slider-text">
          <h3>اکران ویژه ۱</h3>
          <span>جمعه ۲۵ خرداد - ساعت ۱۸</span>
        </div>
      </div>

      <div class="slider-item" data-target="card-2">
        <img src="cards/2.jpg">
        <div class="slider-text">
          <h3>اکران ویژه ۲</h3>
          <span>جمعه ۱ تیر - ساعت ۱۹</span>
        </div>
      </div>

      <div class="slider-item" data-target="card-3">
        <img src="cards/3.jpg">
        <div class="slider-text">
          <h3>اکران ویژه ۳</h3>
          <span>پنجشنبه ۷ تیر - ساعت ۲۰</span>
        </div>
      </div>

    </div>
  </div>
  <div class="slider-dots" id="sliderDots"></div>
</div>

<!-- ===================== کارت‌ها ===================== -->
<div class="movies-grid" id="cards-container"></div>

</main>

<script>
/* ===================== اسلایدر ===================== */
const track=document.getElementById("sliderTrack");
const slides=document.querySelectorAll(".slider-item");
const dots=document.getElementById("sliderDots");
let index=0;

slides.forEach((_,i)=>{
 const d=document.createElement("span");
 if(i===0)d.classList.add("active");
 d.onclick=()=>move(i);
 dots.appendChild(d);
});

function move(i){
 index=i;
 track.style.transform=`translateX(${index*100}%)`;
 dots.querySelectorAll("span").forEach((d,n)=>d.classList.toggle("active",n===i));
}

setInterval(()=>move((index+1)%slides.length),4000);

slides.forEach(s=>{
 s.onclick=()=>{
  const id=s.dataset.target;
  const el=document.getElementById(id);
  if(el)el.scrollIntoView({behavior:"smooth",block:"center"});
 }
});

/* ===================== لود کارت‌ها (بدون تغییر منطق قبلی) ===================== */
const container=document.getElementById("cards-container");

async function loadCardsStrictly(){
 for(let i=1;i<=150;i++){
  try{
   const r=await fetch(`cards/${i}.html?v=${Date.now()}`);
   if(!r.ok)continue;
   const h=await r.text();
   const c=document.createElement("div");
   c.className="movie-card";
   c.id=`card-${i}`;
   c.innerHTML=h;
   container.appendChild(c);
  }catch{}
 }
}
loadCardsStrictly();
</script>

</body>
</html>