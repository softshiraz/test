<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ¬ Ø³Ø§ÙØª Ø´ÛŒØ±Ø§Ø² ğŸ¬</title>

<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/dist/font-face.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{
 font-family:"Vazirmatn",sans-serif;
 background:#0e0e0f;
 color:#fff;
 overflow-x:hidden;
}

/* Ø¨Ø®Ø´â€ŒÙ‡Ø§ */
.section-title{
 color:#ffd700;
 font-size:22px;
 margin:20px 0 10px 0;
 padding-right:10px;
}

/* Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø§Ø³Ú©Ø±ÙˆÙ„ Ø§ÙÙ‚ÛŒ */
.scroller{
 position:relative;
 width:100%;
 overflow:hidden;
 padding:10px 0;
 white-space:nowrap;
}

/* Track */
.scroller-track{
 display:flex;
 gap:18px;
 width:max-content;
}

/* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ Ù‡Ù…Ø§Ù† Ø§Ø³Øª Ùˆ ØªØºÛŒÛŒØ±ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù… */
.movie-card{perspective:1000px;position:relative;}
.card-inner{
 width:250px;height:380px;
 transition:transform .3s;
 transform-style:preserve-3d;
 cursor:pointer;
}
.card-front,.card-back{
 position:absolute;top:0;left:0;width:100%;height:100%;
 border-radius:16px;
 border:2px solid rgba(255,215,0,.65);
 overflow:hidden;
 backface-visibility:hidden;
 background:rgba(19,19,20,.75);
}
.card-back{transform:rotateY(180deg);padding:15px;}
.card-inner.flipped{transform:rotateY(180deg);}
</style>
</head>

<body>

<header>
    <div class="logo-fa" style="font-weight:700;font-size:26px;
    background:linear-gradient(45deg,#ffd700,#ffb300);
    -webkit-background-clip:text;color:transparent;">
        Soft Shiraz
    </div>
</header>

<main style="padding:20px;">

    <!-- ğŸ”¥ Ù„ÛŒØ³Øª 1 â†’ Ø§Ú©Ø±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ -->
    <h2 class="section-title">Ø§Ú©Ø±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡</h2>
    <div class="scroller" id="future-scroller">
        <div class="scroller-track" id="future-track"></div>
    </div>

    <!-- ğŸ”¥ Ù„ÛŒØ³Øª 2 â†’ Ø§Ú©Ø±Ø§Ù†â€ŒØ´Ø¯Ù‡â€ŒÙ‡Ø§ -->
    <h2 class="section-title">Ø§Ú©Ø±Ø§Ù†â€ŒØ´Ø¯Ù‡â€ŒÙ‡Ø§</h2>
    <div class="scroller" id="released-scroller">
        <div class="scroller-track" id="released-track"></div>
    </div>

</main>

<script>

/* -----------------------------
   ğŸ”¥ LOAD CARDS FOR BOTH LISTS
------------------------------ */

async function loadCards(folder, track){
    for(let i=1;i<=20;i++){
        try{
            const res = await fetch(`${folder}/${i}.html`);
            if(!res.ok) continue;
            const html = await res.text();
            const div = document.createElement("div");
            div.className = "movie-card";
            div.innerHTML = html;
            track.appendChild(div);
        }catch(e){}
    }
}

const futureTrack   = document.getElementById("future-track");
const releasedTrack = document.getElementById("released-track");

loadCards("card",   futureTrack);
loadCards("cards",  releasedTrack);

/* -----------------------------
   ğŸ”¥ CARD FLIP (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±)
------------------------------ */

let openCard=null;
document.addEventListener("click",e=>{
    const inner=e.target.closest(".card-inner");
    if(!inner) return;
    if(openCard && openCard!==inner){ openCard.classList.remove("flipped"); }
    inner.classList.toggle("flipped");
    openCard=inner.classList.contains("flipped")?inner:null;
});

/* ------------------------------------------------
   ğŸ”¥ AUTO SCROLL + DRAG SCROLL (Infinite + Smooth)
   â†’ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¯Ùˆ Ù„ÛŒØ³Øª Ø¨Ù‡â€ŒØµÙˆØ±Øª Ù‡Ù…Ø§Ù‡Ù†Ú¯
-------------------------------------------------- */

function enableScroller(scroller, track){

    let pos = 0;
    let speed = 0.4; // Ø³Ø±Ø¹Øª Ø­Ø±Ú©Øª Ø§ØªÙˆÙ…Ø§ØªÛŒÚ©
    let dragging = false;
    let startX = 0;

    /* Auto Loop */
    function autoScroll(){
        if(!dragging){
            pos -= speed;
            track.style.transform = `translateX(${pos}px)`;
        }

        const first = track.children[0];
        const rect = first.getBoundingClientRect();

        if(rect.right < 0){
            track.appendChild(first);
            pos += first.offsetWidth + 18;
        }

        requestAnimationFrame(autoScroll);
    }
    autoScroll();

    /* Drag */
    scroller.addEventListener("mousedown", e=>{
        dragging=true;
        startX=e.clientX;
    });

    document.addEventListener("mouseup", ()=>{
        dragging=false;
    });

    document.addEventListener("mousemove", e=>{
        if(!dragging) return;
        let dx = e.clientX - startX;
        startX = e.clientX;
        pos += dx;
    });

    /* Touch */
    scroller.addEventListener("touchstart", e=>{
        dragging=true;
        startX=e.touches[0].clientX;
    });

    scroller.addEventListener("touchend", ()=>{
        dragging=false;
    });

    scroller.addEventListener("touchmove", e=>{
        if(!dragging) return;
        let dx = e.touches[0].clientX - startX;
        startX = e.touches[0].clientX;
        pos += dx;
    });
}

/* ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¯Ùˆ Ù„ÛŒØ³Øª */
enableScroller(
    document.getElementById("future-scroller"),
    document.getElementById("future-track")
);
enableScroller(
    document.getElementById("released-scroller"),
    document.getElementById("released-track")
);

</script>

</body>
</html>
