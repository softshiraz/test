<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0">
    <meta name="google-site-verification" content="fK12FesLb14L29h1lu9QVGq_JaWn68Bd-LFlawjNwPU" />
    <title>سافت شیراز | @soft_shiraz | قدیمی ترین پخش کننده فیلم انیمه و انیمیشن روی پرده سینما در شیراز</title>
    <meta name="description" content="@soft_shiraz - سافت شیراز، قدیمی ترین و معتبرترین برگزارکننده اکران فیلم انیمه، انیمیشن و ایونت های کتابخوانی در شیراز. رزرو بلیط اکران های آینده انیمه روی پرده سینما با @soft_shiraz. ایونت های طلایی سافت شیراز با کیفیت بالا!">
    <meta name="keywords" content="سافت شیراز, @soft_shiraz, soft_shiraz, اکران انیمه شیراز, انیمیشن سینما شیراز, قدیمی ترین پخش کننده انیمه شیراز, ایونت انیمه شیراز, رزرو بلیط انیمه شیراز, فیلم انیمه روی پرده شیراز, انیمه در سینما شیراز">
    <meta name="robots" content="index, follow">
    <meta name="author" content="@soft_shiraz - سافت شیراز">
    <meta name="theme-color" content="#ffd700">
    <meta property="og:title" content="سافت شیراز | @soft_shiraz | اکران انیمه و انیمیشن در شیراز">
    <meta property="og:description" content="@soft_shiraz - قدیمی ترین برگزارکننده اکران انیمه روی پرده سینما در شیراز. اکران های آینده و رزرو بلیط را از دست ندهید!">
    <meta property="og:image" content="https://raw.githubusercontent.com/softshiraz/web/refs/heads/main/png/0.png">
    <meta property="og:url" content="https://softshiraz.github.io/web/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="fa_IR">
    <meta property="og:site_name" content="@soft_shiraz">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="سافت شیراز | @soft_shiraz | اکران انیمه در شیراز">
    <meta name="twitter:description" content="@soft_shiraz - قدیمی ترین پخش کننده فیلم ، انیمه و انیمیشن روی پرده سینما در شیراز">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/softshiraz/web/refs/heads/main/png/0.png">
    <meta name="twitter:site" content="@soft_shiraz">
    <link rel="canonical" href="https://softshiraz.github.io/web/">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "سافت شیراز",
      "alternateName": "@soft_shiraz",
      "url": "https://softshiraz.github.io/web/",
      "logo": "https://raw.githubusercontent.com/softshiraz/web/refs/heads/main/png/0.png",
      "sameAs": [
        "https://t.me/softshiraz",
        "https://instagram.com/soft_shiraz"
      ],
      "description": "@soft_shiraz - قدیمی ترین برگزارکننده اکران انیمه و انیمیشن روی پرده سینما در شیراز"
    }
    </script>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/dist/font-face.css?v=3" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css?v=3">
    <link rel="manifest" href="data:application/manifest+json,{
      %22name%22:%22سافت%20شیراز%20-%20اکران‌های%20آینده%22,
      %22short_name%22:%22سافت%20شیراز%22,
      %22description%22:%22ایونت‌های%20طلایی%20سافت%20شیراز%20-%20اکران%20فیلم%20و%20کتابخوانی%22,
      %22start_url%22:%22/web/%22,
      %22scope%22:%22/web/%22,
      %22display%22:%22standalone%22,
      %22background_color%22:%22%230e0e0f%22,
      %22theme_color%22:%22%23ffd700%22,
      %22orientation%22:%22portrait-primary%22,
      %22icons%22:[
        {
          %22src%22:%22https://raw.githubusercontent.com/softshiraz/web/refs/heads/main/png/0.png%22,
          %22sizes%22:%22192x192%22,
          %22type%22:%22image/png%22,
          %22purpose%22:%22any%20maskable%22
        },
        {
          %22src%22:%22https://raw.githubusercontent.com/softshiraz/web/refs/heads/main/png/0.png%22,
          %22sizes%22:%22512x512%22,
          %22type%22:%22image/png%22,
          %22purpose%22:%22any%20maskable%22
        }
      ]
    }">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/softshiraz/web/refs/heads/main/png/0.png">
    <style>
    /* --- تمام استایل‌های قبلی شما بدون تغییر --- */
    :root {
        --color-primary: #ffd700;
        --color-secondary: #ffb300;
        --bg-color: #0e0e0f;
        --text-color: #fff;
        --header-bg: rgba(0,0,0,0.5);
        --border-color: rgba(48,48,48,0.5);
        --menu-bg-start: rgba(12,12,12,0.98);
        --menu-bg-end: rgba(20,20,20,0.98);
        --menu-border-right: rgba(255,215,0,0.12);
        --link-bg: rgba(255,255,255,0.03);
        --link-border: rgba(255,255,255,0.03);
        --link-hover-bg: rgba(255,215,0,0.06);
        --icon-bg: var(--link-bg);
        --icon-border: var(--link-border);
        --card-bg: rgba(19,19,20,0.75);
        --card-border: rgba(255,215,0,0.65);
        --card-shadow-color: rgba(255,215,0,0.25);
        --card-title-bar-bg: var(--link-bg);
    }
    .light-mode {
        --color-primary: #8a7700;
        --color-secondary: #a89433;
        --bg-color: rgba(138, 119, 0, 0.03);
        --text-color: #1a1a1a;
        --header-bg: rgba(255,255,255,0.8);
        --border-color: rgba(200,200,200,0.5);
        --menu-bg-start: rgba(245,245,245,0.98);
        --menu-bg-end: rgba(255,255,255,0.98);
        --menu-border-right: rgba(138,119,0,0.25);
        --link-bg: rgba(138,119,0,0.06);
        --link-border: rgba(138,119,0,0.1);
        --link-hover-bg: rgba(138,119,0,0.15);
        --icon-bg: var(--link-bg);
        --icon-border: var(--link-border);
        --card-bg: rgba(255,255,255,0.9);
        --card-border: rgba(138,119,0,0.65);
        --card-shadow-color: rgba(138,119,0,0.25);
        --card-title-bar-bg: var(--link-bg);
    }
    @media (prefers-color-scheme: dark) {
        body:not(.light-mode) {
             --color-primary: #ffd700;
             --color-secondary: #ffb300;
             --bg-color: #0e0e0f;
             --text-color: #fff;
             --header-bg: rgba(0,0,0,0.5);
             --border-color: rgba(48,48,48,0.5);
             --menu-bg-start: rgba(12,12,12,0.98);
             --menu-bg-end: rgba(20,20,20,0.98);
             --menu-border-right: rgba(255,215,0,0.12);
             --link-bg: rgba(255,255,255,0.03);
             --link-border: rgba(255,255,255,0.03);
             --link-hover-bg: rgba(255,215,0,0.06);
             --icon-bg: var(--link-bg);
             --icon-border: var(--link-border);
             --card-bg: rgba(19,19,20,0.75);
             --card-border: rgba(255,215,0,0.65);
             --card-shadow-color: rgba(255,215,0,0.25);
             --card-title-bar-bg: var(--link-bg);
        }
    }
    * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
    body {
        font-family: "Vazirmatn", sans-serif;
        background:var(--bg-color);
        color:var(--text-color);
        overflow-x:hidden;
        transition: background-color 0.3s, color 0.3s;
    }
    header { /* همان استایل قبلی */ }
    /* ... تمام استایل‌های قبلی شما تا آخر ... */

    /* ==================== نوار اتوماتیک حرکتی جدید ==================== */
    .auto-carousel-section {
        margin: 50px auto 40px auto;
        max-width: 1200px;
        padding: 0 20px;
        overflow: hidden;
    }
    .auto-carousel-title {
        text-align: center;
        color: var(--color-primary);
        font-size: 28px;
        font-weight: 900;
        margin-bottom: 20px;
        text-shadow: 0 0 12px rgba(255,215,0,0.6);
    }
    .auto-carousel-wrapper {
        overflow: hidden;
        position: relative;
    }
    .auto-carousel-track {
        display: flex;
        animation: carouselMove var(--carousel-duration, 30s) linear infinite;
    }
    .auto-carousel-item {
        flex: 0 0 250px;
        margin: 0 15px;
        border-radius: 16px;
        overflow: hidden;
        border: 2px solid var(--card-border);
        box-shadow: 0 0 12px var(--card-shadow-color);
        background: var(--card-bg);
        backdrop-filter: blur(10px);
    }
    .auto-carousel-item img {
        width: 100%;
        height: 375px;
        object-fit: cover;
    }
    .auto-carousel-item .info {
        padding: 12px;
        text-align: center;
        background: var(--card-title-bar-bg);
        color: var(--text-color);
    }
    .auto-carousel-item .info strong {
        color: var(--color-primary);
        font-size: 16px;
        display: block;
    }
    @keyframes carouselMove {
        0% { transform: translateX(0); }
        100% { transform: translateX(-50%); }
    }
    @media (max-width: 768px) {
        .auto-carousel-item { flex: 0 0 200px; margin: 0 10px; }
        .auto-carousel-item img { height: 300px; }
    }
    @media (max-width: 480px) {
        .auto-carousel-item { flex: 0 0 160px; margin: 0 8px; }
        .auto-carousel-item img { height: 240px; }
    }
    /* ریسپانسیو قبلی */
    @media (max-width:1200px) { .movies-grid { grid-template-columns:repeat(3,1fr); } }
    @media (max-width:768px) { .movies-grid { grid-template-columns:repeat(2,1fr); } }
    @media (max-width:480px) { .movies-grid { grid-template-columns:1fr; } .section-title-box h1 { font-size: 28px; } }
    </style>
</head>
<body>
<!-- لودر، هدر و منو همان قبلی -->

<main style="padding-top:0px;">
    <section class="section">
        <div class="section-title-wrapper">
            <div class="section-title-box">
                <h1>اکران‌های آینده</h1>
            </div>
        </div>

        <!-- نوار اتوماتیک حرکتی جدید (بالای کارت‌ها) -->
        <div class="auto-carousel-section">
            <div class="auto-carousel-title">پیش‌نمایش اکران‌ها</div>
            <div class="auto-carousel-wrapper">
                <div class="auto-carousel-track" id="auto-carousel-track">
                    <!-- آیتم‌ها به صورت داینامیک اضافه می‌شوند -->
                </div>
            </div>
        </div>

        <div class="movies-grid" id="cards-container" style="margin-bottom: 45px;"></div>
    </section>
</main>

<script>
// تمام اسکریپت‌های قبلی (تم، لودر، منو، انیمیشن بک‌گراند، نصب اپ و ...) بدون تغییر

// لود کارت‌های اصلی
const container = document.getElementById("cards-container");
let openCard = null;

async function loadCardsStrictly() {
    for (let num = 1; num <= 150; num++) {
        try {
            const response = await fetch(`cards/${num}.html?v=${Date.now()}`, { cache: "no-store" });
            if (!response.ok) continue;
            const html = await response.text();
            const card = document.createElement("div");
            card.className = "movie-card";
            card.innerHTML = html;
            container.appendChild(card);
        } catch (e) {
            console.log("خطا در لود کارت", num);
        }
    }
}

// ==== نوار اتوماتیک حرکتی ====
const carouselTrack = document.getElementById('auto-carousel-track');
let carouselItems = [];

async function loadAutoCarousel() {
    carouselItems = [];
    for (let num = 1; num <= 150; num++) {
        try {
            const response = await fetch(`cards/${num}.html?v=${Date.now()}`, { cache: "no-store" });
            if (!response.ok) continue;
            const html = await response.text();
            const temp = document.createElement('div');
            temp.innerHTML = html;

            const imgSrc = temp.querySelector('.img-bar img')?.src || '';
            const movieName = temp.querySelector('.date-bar')?.textContent.trim() || 'نامشخص';
            const dateTime = temp.querySelector('.title-bar')?.textContent.trim() || '';

            if (imgSrc) {
                carouselItems.push({ imgSrc, movieName, dateTime });
            }
        } catch (e) {}
    }

    if (carouselItems.length === 0) return;

    // دوبل کردن برای لوپ بی‌نهایت بدون پرش
    const allItems = [...carouselItems, ...carouselItems];

    allItems.forEach(item => {
        const el = document.createElement('div');
        el.className = 'auto-carousel-item';
        el.innerHTML = `
            <img src="${item.imgSrc}" alt="${item.movieName}">
            <div class="info">
                <strong>${item.movieName}</strong>
                ${item.dateTime}
            </div>
        `;
        carouselTrack.appendChild(el);
    });

    // هر کارت ۱ ثانیه مکث + زمان حرکت نرم
    const itemCount = carouselItems.length;
    const durationPerItem = 3; // ۱ ثانیه مکث + ۲ ثانیه حرکت نرم
    const totalDuration = itemCount * durationPerItem;

    carouselTrack.style.setProperty('--carousel-duration', `${totalDuration}s`);
}

// فراخوانی بعد از لود کارت‌ها
loadCardsStrictly().then(() => {
    loadAutoCarousel();
});

// بقیه اسکریپت‌ها (رزرو، فلیپ، منو، بک‌گراند و ...) دقیقاً همان قبلی
// ... (همان کدهای قبلی شما بدون هیچ تغییری)

// Service Worker و بقیه همان قبلی
</script>
</body>
</html>